
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Date and Time &#8212; Babel 2.9.1 文档</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/babel.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Languages" href="languages.html" />
    <link rel="prev" title="Core Functionality" href="core.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="../_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <link href="//fonts.googleapis.com/css?family=Bree+Serif" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="languages.html" title="Languages"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="core.html" title="Core Functionality"
             accesskey="P">上一页</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Babel 2.9.1 文档</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">API Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Date and Time</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-babel.dates">
<span id="date-and-time"></span><h1>Date and Time<a class="headerlink" href="#module-babel.dates" title="永久链接至标题">¶</a></h1>
<p>The date and time functionality provided by Babel lets you format standard
Python <cite>datetime</cite>, <cite>date</cite> and <cite>time</cite> objects and work with timezones.</p>
<section id="date-and-time-formatting">
<h2>Date and Time Formatting<a class="headerlink" href="#date-and-time-formatting" title="永久链接至标题">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_datetime">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_datetime" title="永久链接至目标">¶</a></dt>
<dd><p>Return a date formatted according to the given pattern.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;Apr 1, 2007, 3:30:00 PM&#39;</span>
</pre></div>
</div>
<p>For any pattern requiring the display of the time-zone, the third-party
<code class="docutils literal notranslate"><span class="pre">pytz</span></code> package is needed to explicitly specify the time-zone:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;Europe/Paris&#39;</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fr_FR&#39;</span><span class="p">)</span>
<span class="go">u&#39;dimanche 1 avril 2007 \xe0 17:30:00 heure d\u2019\xe9t\xe9 d\u2019Europe centrale&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_datetime</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s2">&quot;yyyy.MM.dd G &#39;at&#39; HH:mm:ss zzz&quot;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">),</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;2007.04.01 AD at 11:30:00 EDT&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datetime</strong> – the <cite>datetime</cite> object; if <cite>None</cite>, the current date and
time is used</p></li>
<li><p><strong>format</strong> – one of “full”, “long”, “medium”, or “short”, or a custom
date/time pattern</p></li>
<li><p><strong>tzinfo</strong> – the timezone to apply to the time for display</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_date">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_date" title="永久链接至目标">¶</a></dt>
<dd><p>Return a date formatted according to the given pattern.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_date</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;Apr 1, 2007&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_date</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Sonntag, 1. April 2007&#39;</span>
</pre></div>
</div>
<p>If you don’t want to use the locale default formats, you can specify a
custom date pattern:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_date</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="s2">&quot;EEE, MMM d, &#39;&#39;yy&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&quot;Sun, Apr 1, &#39;07&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>date</strong> – the <code class="docutils literal notranslate"><span class="pre">date</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime</span></code> object; if <cite>None</cite>, the current
date is used</p></li>
<li><p><strong>format</strong> – one of “full”, “long”, “medium”, or “short”, or a custom
date/time pattern</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_time">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_time" title="永久链接至目标">¶</a></dt>
<dd><p>Return a time formatted according to the given pattern.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;3:30:00 PM&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;15:30&#39;</span>
</pre></div>
</div>
<p>If you don’t want to use the locale default formats, you can specify a
custom time pattern:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s2">&quot;hh &#39;o&#39;&#39;clock&#39; a&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&quot;03 o&#39;clock PM&quot;</span>
</pre></div>
</div>
<p>For any pattern requiring the display of the time-zone a
timezone has to be specified explicitly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tzinfo</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;Europe/Paris&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">tzinfo</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">tzinfo</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fr_FR&#39;</span><span class="p">)</span>
<span class="go">u&#39;15:30:00 heure d\u2019\xe9t\xe9 d\u2019Europe centrale&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s2">&quot;hh &#39;o&#39;&#39;clock&#39; a, zzzz&quot;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&quot;09 o&#39;clock AM, Eastern Daylight Time&quot;</span>
</pre></div>
</div>
<p>As that example shows, when this function gets passed a
<code class="docutils literal notranslate"><span class="pre">datetime.datetime</span></code> value, the actual time in the formatted string is
adjusted to the timezone specified by the <cite>tzinfo</cite> parameter. If the
<code class="docutils literal notranslate"><span class="pre">datetime</span></code> is “naive” (i.e. it has no associated timezone information),
it is assumed to be in UTC.</p>
<p>These timezone calculations are <strong>not</strong> performed if the value is of type
<code class="docutils literal notranslate"><span class="pre">datetime.time</span></code>, as without date information there’s no way to determine
what a given time would translate to in a different timezone without
information about whether daylight savings time is in effect or not. This
means that time values are left as-is, and the value of the <cite>tzinfo</cite>
parameter is only used to display the timezone name if needed:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;Europe/Paris&#39;</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fr_FR&#39;</span><span class="p">)</span>
<span class="go">u&#39;15:30:00 heure normale d\u2019Europe centrale&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_time</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;US/Eastern&#39;</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;3:30:00 PM Eastern Standard Time&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> – the <code class="docutils literal notranslate"><span class="pre">time</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime</span></code> object; if <cite>None</cite>, the current
time in UTC is used</p></li>
<li><p><strong>format</strong> – one of “full”, “long”, “medium”, or “short”, or a custom
date/time pattern</p></li>
<li><p><strong>tzinfo</strong> – the time-zone to apply to the time for display</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_timedelta">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_timedelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'second'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">.85</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_direction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'long'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_timedelta" title="永久链接至目标">¶</a></dt>
<dd><p>Return a time delta according to the rules of the given locale.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;3 months&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">)</span>
<span class="go">u&#39;1 segundo&#39;</span>
</pre></div>
</div>
<p>The granularity parameter can be provided to alter the lowest unit
presented, which defaults to a second.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="n">granularity</span><span class="o">=</span><span class="s1">&#39;day&#39;</span><span class="p">,</span>
<span class="gp">... </span>                 <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1 day&#39;</span>
</pre></div>
</div>
<p>The threshold parameter can be used to determine at which value the
presentation switches to the next higher unit. A higher threshold factor
means the presentation will switch later. For example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">23</span><span class="p">),</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;1 day&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">23</span><span class="p">),</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;23 hours&#39;</span>
</pre></div>
</div>
<p>In addition directional information can be provided that informs
the user if the date is in the past or in the future:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">add_direction</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;in 1 hour&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span> <span class="n">add_direction</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;1 hour ago&#39;</span>
</pre></div>
</div>
<p>The format parameter controls how compact or wide the presentation is:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;3 hr&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_timedelta</span><span class="p">(</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;narrow&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;3h&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delta</strong> – a <code class="docutils literal notranslate"><span class="pre">timedelta</span></code> object representing the time difference to
format, or the delta in seconds as an <cite>int</cite> value</p></li>
<li><p><strong>granularity</strong> – determines the smallest unit that should be displayed,
the value can be one of “year”, “month”, “week”, “day”,
“hour”, “minute” or “second”</p></li>
<li><p><strong>threshold</strong> – factor that determines at which point the presentation
switches to the next higher unit</p></li>
<li><p><strong>add_direction</strong> – if this flag is set to <cite>True</cite> the return value will
include directional information.  For instance a
positive timedelta will include the information about
it being in the future, a negative will be information
about the value being in the past.</p></li>
<li><p><strong>format</strong> – the format, can be “narrow”, “short” or “long”. (
“medium” is deprecated, currently converted to “long” to
maintain compatibility)</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_skeleton">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_skeleton</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">skeleton</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzzy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_skeleton" title="永久链接至目标">¶</a></dt>
<dd><p>Return a time and/or date formatted according to the given pattern.</p>
<p>The skeletons are defined in the CLDR data and provide more flexibility
than the simple short/long/medium formats, but are a bit harder to use.
The are defined using the date/time symbols without order or punctuation
and map to a suitable format for the given locale.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_skeleton</span><span class="p">(</span><span class="s1">&#39;MMMEd&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fr&#39;</span><span class="p">)</span>
<span class="go">u&#39;dim. 1 avr.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_skeleton</span><span class="p">(</span><span class="s1">&#39;MMMEd&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;Sun, Apr 1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_skeleton</span><span class="p">(</span><span class="s1">&#39;yMMd&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fi&#39;</span><span class="p">)</span>  <span class="c1"># yMMd is not in the Finnish locale; yMd gets used</span>
<span class="go">u&#39;1.4.2007&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_skeleton</span><span class="p">(</span><span class="s1">&#39;yMMd&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">fuzzy</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fi&#39;</span><span class="p">)</span>  <span class="c1"># yMMd is not in the Finnish locale, an error is thrown</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">KeyError</span>: <span class="n">yMMd</span>
</pre></div>
</div>
<p>After the skeleton is resolved to a pattern <cite>format_datetime</cite> is called so
all timezone processing etc is the same as for that.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>skeleton</strong> – A date time skeleton as defined in the cldr data.</p></li>
<li><p><strong>datetime</strong> – the <code class="docutils literal notranslate"><span class="pre">time</span></code> or <code class="docutils literal notranslate"><span class="pre">datetime</span></code> object; if <cite>None</cite>, the current
time in UTC is used</p></li>
<li><p><strong>tzinfo</strong> – the time-zone to apply to the time for display</p></li>
<li><p><strong>fuzzy</strong> – If the skeleton is not found, allow choosing a skeleton that’s
close enough to it.</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.format_interval">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">format_interval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skeleton</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fuzzy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">default_locale('LC_TIME')</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.format_interval" title="永久链接至目标">¶</a></dt>
<dd><p>Format an interval between two instants according to the locale’s rules.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="s2">&quot;yMd&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;fi&quot;</span><span class="p">)</span>
<span class="go">u&#39;15.–17.1.2016&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="s2">&quot;Hm&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;en_GB&quot;</span><span class="p">)</span>
<span class="go">&#39;12:12–16:16&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="s2">&quot;hm&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;en_US&quot;</span><span class="p">)</span>
<span class="go">&#39;5:12 AM – 4:16 PM&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span> <span class="s2">&quot;Hm&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;it&quot;</span><span class="p">)</span>
<span class="go">&#39;16:18–16:24&#39;</span>
</pre></div>
</div>
<p>If the start instant equals the end instant, the interval is formatted like the instant.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="s2">&quot;Hm&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;it&quot;</span><span class="p">)</span>
<span class="go">&#39;16:18&#39;</span>
</pre></div>
</div>
<p>Unknown skeletons fall back to “default” formatting.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">date</span><span class="p">(</span><span class="mi">2015</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;wzq&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;ja&quot;</span><span class="p">)</span>
<span class="go">&#39;2015/01/01～2017/01/01&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">time</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">24</span><span class="p">),</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;ja&quot;</span><span class="p">)</span>
<span class="go">&#39;16:18:00～16:24:00&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_interval</span><span class="p">(</span><span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">date</span><span class="p">(</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">17</span><span class="p">),</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s2">&quot;de&quot;</span><span class="p">)</span>
<span class="go">&#39;15.01.2016 – 17.01.2016&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – First instant (datetime/date/time)</p></li>
<li><p><strong>end</strong> – Second instant (datetime/date/time)</p></li>
<li><p><strong>skeleton</strong> – The “skeleton format” to use for formatting.</p></li>
<li><p><strong>tzinfo</strong> – tzinfo to use (if none is already attached)</p></li>
<li><p><strong>fuzzy</strong> – If the skeleton is not found, allow choosing a skeleton that’s
close enough to it.</p></li>
<li><p><strong>locale</strong> – A locale object or identifier.</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>Formatted interval</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="timezone-functionality">
<h2>Timezone Functionality<a class="headerlink" href="#timezone-functionality" title="永久链接至标题">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_timezone">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_timezone</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_timezone" title="永久链接至目标">¶</a></dt>
<dd><p>Looks up a timezone by name and returns it.  The timezone object
returned comes from <code class="docutils literal notranslate"><span class="pre">pytz</span></code> and corresponds to the <cite>tzinfo</cite> interface and
can be used with all of the functions of Babel that operate with dates.</p>
<p>If a timezone is not known a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#LookupError" title="(在 Python v3.10)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">LookupError</span></code></a> is raised.  If <cite>zone</cite>
is <code class="docutils literal notranslate"><span class="pre">None</span></code> a local zone object is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>zone</strong> – the name of the timezone to look up.  If a timezone object
itself is passed in, mit’s returned unchanged.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_timezone_gmt">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_timezone_gmt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'long'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_timezone_gmt" title="永久链接至目标">¶</a></dt>
<dd><p>Return the timezone associated with the given <cite>datetime</cite> object formatted
as string indicating the offset from GMT.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;GMT+00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">return_z</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;Z&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;iso8601_short&#39;</span><span class="p">)</span>
<span class="go">u&#39;+00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/Los_Angeles&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">tz</span><span class="o">.</span><span class="n">localize</span><span class="p">(</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2007</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;GMT-07:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="go">u&#39;-0700&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;iso8601_short&#39;</span><span class="p">)</span>
<span class="go">u&#39;-07&#39;</span>
</pre></div>
</div>
<p>The long format depends on the locale, for example in France the acronym
UTC string is used instead of GMT:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_gmt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;fr_FR&#39;</span><span class="p">)</span>
<span class="go">u&#39;UTC-07:00&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">0.9 新版功能.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datetime</strong> – the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> object; if <cite>None</cite>, the current date and
time in UTC is used</p></li>
<li><p><strong>width</strong> – either “long” or “short” or “iso8601” or “iso8601_short”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
<li><p><strong>return_z</strong> – True or False; Function returns indicator “Z”
when local time offset is 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_timezone_location">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_timezone_location</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_or_tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_city</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_timezone_location" title="永久链接至目标">¶</a></dt>
<dd><p>Return a representation of the given timezone using “location format”.</p>
<p>The result depends on both the local display name of the country and the
city associated with the time zone:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/St_Johns&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">))</span>
<span class="go">Kanada (St. John’s) Zeit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">))</span>
<span class="go">Canada (St. John’s) Time</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">return_city</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">St. John’s</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/Mexico_City&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_location</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Mexiko (Mexiko-Stadt) Zeit&#39;</span>
</pre></div>
</div>
<p>If the timezone is associated with a country that uses only a single
timezone, just the localized country name is returned:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;Europe/Berlin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Mitteleurop\xe4ische Zeit&#39;</span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified added">0.9 新版功能.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt_or_tzinfo</strong> – the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> object that determines
the timezone; if <cite>None</cite>, the current date and time in
UTC is assumed</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
<li><p><strong>return_city</strong> – True or False, if True then return exemplar city (location)
for the time zone</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>the localized timezone name using location format</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_timezone_name">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_timezone_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt_or_tzinfo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'long'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uncommon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_variant</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_timezone_name" title="永久链接至目标">¶</a></dt>
<dd><p>Return the localized display name for the given timezone. The timezone
may be specified using a <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <cite>tzinfo</cite> object.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dt</span> <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/Los_Angeles&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;Pacific Standard Time&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">,</span> <span class="n">return_zone</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">&#39;America/Los_Angeles&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;PST&#39;</span>
</pre></div>
</div>
<p>If this function gets passed only a <cite>tzinfo</cite> object and no concrete
<cite>datetime</cite>,  the returned display name is indenpendent of daylight savings
time. This can be used for example for selecting timezones, or to set the
time of events that recur across DST changes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/Los_Angeles&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;Pacific Time&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;PT&#39;</span>
</pre></div>
</div>
<p>If no localized display name for the timezone is available, and the timezone
is associated with a country that uses only a single timezone, the name of
that country is returned, formatted according to the locale:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;Europe/Berlin&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Mitteleurop\xe4ische Zeit&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;pt_BR&#39;</span><span class="p">)</span>
<span class="go">u&#39;Hor\xe1rio da Europa Central&#39;</span>
</pre></div>
</div>
<p>On the other hand, if the country uses multiple timezones, the city is also
included in the representation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tz</span> <span class="o">=</span> <span class="n">get_timezone</span><span class="p">(</span><span class="s1">&#39;America/St_Johns&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_timezone_name</span><span class="p">(</span><span class="n">tz</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">u&#39;Neufundland-Zeit&#39;</span>
</pre></div>
</div>
<p>Note that short format is currently not supported for all timezones and
all locales.  This is partially because not every timezone has a short
code in every locale.  In that case it currently falls back to the long
format.</p>
<p>For more information see <a class="reference external" href="https://www.unicode.org/reports/tr35/#Time_Zone_Fallback">LDML Appendix J: Time Zone Display Names</a></p>
<div class="versionadded">
<p><span class="versionmodified added">0.9 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.0 版更改: </span>Added <cite>zone_variant</cite> support.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt_or_tzinfo</strong> – the <code class="docutils literal notranslate"><span class="pre">datetime</span></code> or <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> object that determines
the timezone; if a <code class="docutils literal notranslate"><span class="pre">tzinfo</span></code> object is used, the
resulting display name will be generic, i.e.
independent of daylight savings time; if <cite>None</cite>, the
current date in UTC is assumed</p></li>
<li><p><strong>width</strong> – either “long” or “short”</p></li>
<li><p><strong>uncommon</strong> – deprecated and ignored</p></li>
<li><p><strong>zone_variant</strong> – defines the zone variation to return.  By default the
variation is defined from the datetime object
passed in.  If no datetime object is passed in, the
<code class="docutils literal notranslate"><span class="pre">'generic'</span></code> variation is assumed.  The following
values are valid: <code class="docutils literal notranslate"><span class="pre">'generic'</span></code>, <code class="docutils literal notranslate"><span class="pre">'daylight'</span></code> and
<code class="docutils literal notranslate"><span class="pre">'standard'</span></code>.</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
<li><p><strong>return_zone</strong> – True or False. If true then function
returns long time zone ID</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_next_timezone_transition">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_next_timezone_transition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zone</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_next_timezone_transition" title="永久链接至目标">¶</a></dt>
<dd><p>Given a timezone it will return a <code class="xref py py-class docutils literal notranslate"><span class="pre">TimezoneTransition</span></code> object
that holds the information about the next timezone transition that’s going
to happen.  For instance this can be used to detect when the next DST
change is going to happen and how it looks like.</p>
<p>The transition is calculated relative to the given datetime object.  The
next transition that follows the date is used.  If a transition cannot
be found the return value will be <cite>None</cite>.</p>
<p>Transition information can only be provided for timezones returned by
the <a class="reference internal" href="#babel.dates.get_timezone" title="babel.dates.get_timezone"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_timezone()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zone</strong> – the timezone for which the transition should be looked up.
If not provided the local timezone is used.</p></li>
<li><p><strong>dt</strong> – the date after which the next transition should be found.
If not given the current time is assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="babel.dates.UTC">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">UTC</span></span><a class="headerlink" href="#babel.dates.UTC" title="永久链接至目标">¶</a></dt>
<dd><p>A timezone object for UTC.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="babel.dates.LOCALTZ">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">LOCALTZ</span></span><a class="headerlink" href="#babel.dates.LOCALTZ" title="永久链接至目标">¶</a></dt>
<dd><p>A timezone object for the computer’s local timezone.</p>
</dd></dl>

</section>
<section id="data-access">
<h2>Data Access<a class="headerlink" href="#data-access" title="永久链接至标题">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_period_names">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_period_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'stand-alone'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_period_names" title="永久链接至目标">¶</a></dt>
<dd><p>Return the names for day periods (AM/PM) used by the locale.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_period_names</span><span class="p">(</span><span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="s1">&#39;am&#39;</span><span class="p">]</span>
<span class="go">u&#39;AM&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> – the width to use, one of “abbreviated”, “narrow”, or “wide”</p></li>
<li><p><strong>context</strong> – the context, either “format” or “stand-alone”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_day_names">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_day_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'format'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_day_names" title="永久链接至目标">¶</a></dt>
<dd><p>Return the day names used by the locale for the specified format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_day_names</span><span class="p">(</span><span class="s1">&#39;wide&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;Tuesday&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_day_names</span><span class="p">(</span><span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;Tu&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_day_names</span><span class="p">(</span><span class="s1">&#39;abbreviated&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;mar.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_day_names</span><span class="p">(</span><span class="s1">&#39;narrow&#39;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="s1">&#39;stand-alone&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;D&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> – the width to use, one of “wide”, “abbreviated”, “short” or “narrow”</p></li>
<li><p><strong>context</strong> – the context, either “format” or “stand-alone”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_month_names">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_month_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'format'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_month_names" title="永久链接至目标">¶</a></dt>
<dd><p>Return the month names used by the locale for the specified format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_month_names</span><span class="p">(</span><span class="s1">&#39;wide&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;January&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_month_names</span><span class="p">(</span><span class="s1">&#39;abbreviated&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;es&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;ene.&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_month_names</span><span class="p">(</span><span class="s1">&#39;narrow&#39;</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="s1">&#39;stand-alone&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;J&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> – the width to use, one of “wide”, “abbreviated”, or “narrow”</p></li>
<li><p><strong>context</strong> – the context, either “format” or “stand-alone”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_quarter_names">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_quarter_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'format'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_quarter_names" title="永久链接至目标">¶</a></dt>
<dd><p>Return the quarter names used by the locale for the specified format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_quarter_names</span><span class="p">(</span><span class="s1">&#39;wide&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;1st quarter&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_quarter_names</span><span class="p">(</span><span class="s1">&#39;abbreviated&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;Q1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_quarter_names</span><span class="p">(</span><span class="s1">&#39;narrow&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;1&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> – the width to use, one of “wide”, “abbreviated”, or “narrow”</p></li>
<li><p><strong>context</strong> – the context, either “format” or “stand-alone”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_era_names">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_era_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'wide'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_era_names" title="永久链接至目标">¶</a></dt>
<dd><p>Return the era names used by the locale for the specified format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_era_names</span><span class="p">(</span><span class="s1">&#39;wide&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;Anno Domini&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_era_names</span><span class="p">(</span><span class="s1">&#39;abbreviated&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">u&#39;n. Chr.&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> – the width to use, either “wide”, “abbreviated”, or “narrow”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_date_format">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_date_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_date_format" title="永久链接至目标">¶</a></dt>
<dd><p>Return the date formatting patterns used by the locale for the specified
format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_date_format</span><span class="p">(</span><span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">&lt;DateTimePattern u&#39;MMM d, y&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_date_format</span><span class="p">(</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">&lt;DateTimePattern u&#39;EEEE, d. MMMM y&#39;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> – the format to use, one of “full”, “long”, “medium”, or
“short”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_datetime_format">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_datetime_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_datetime_format" title="永久链接至目标">¶</a></dt>
<dd><p>Return the datetime formatting patterns used by the locale for the
specified format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_datetime_format</span><span class="p">(</span><span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">u&#39;{1}, {0}&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> – the format to use, one of “full”, “long”, “medium”, or
“short”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.get_time_format">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">get_time_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'medium'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.get_time_format" title="永久链接至目标">¶</a></dt>
<dd><p>Return the time formatting patterns used by the locale for the specified
format.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_time_format</span><span class="p">(</span><span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">&lt;DateTimePattern u&#39;h:mm:ss a&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">get_time_format</span><span class="p">(</span><span class="s1">&#39;full&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">&lt;DateTimePattern u&#39;HH:mm:ss zzzz&#39;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> – the format to use, one of “full”, “long”, “medium”, or
“short”</p></li>
<li><p><strong>locale</strong> – the <cite>Locale</cite> object, or a locale string</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="basic-parsing">
<h2>Basic Parsing<a class="headerlink" href="#basic-parsing" title="永久链接至标题">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.parse_date">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.parse_date" title="永久链接至目标">¶</a></dt>
<dd><p>Parse a date from a string.</p>
<p>This function uses the date format for the locale as a hint to determine
the order in which the date fields appear in the string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;4/1/04&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">datetime.date(2004, 4, 1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_date</span><span class="p">(</span><span class="s1">&#39;01.04.2004&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;de_DE&#39;</span><span class="p">)</span>
<span class="go">datetime.date(2004, 4, 1)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – the string containing the date</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.parse_time">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">parse_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'en_US_POSIX'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.parse_time" title="永久链接至目标">¶</a></dt>
<dd><p>Parse a time from a string.</p>
<p>This function uses the time format for the locale as a hint to determine
the order in which the time fields appear in the string.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_time</span><span class="p">(</span><span class="s1">&#39;15:30:00&#39;</span><span class="p">,</span> <span class="n">locale</span><span class="o">=</span><span class="s1">&#39;en_US&#39;</span><span class="p">)</span>
<span class="go">datetime.time(15, 30)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> – the string containing the time</p></li>
<li><p><strong>locale</strong> – a <cite>Locale</cite> object or a locale identifier</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>the parsed time</p>
</dd>
<dt class="field-odd">返回类型</dt>
<dd class="field-odd"><p><cite>time</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="babel.dates.parse_pattern">
<span class="sig-prename descclassname"><span class="pre">babel.dates.</span></span><span class="sig-name descname"><span class="pre">parse_pattern</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pattern</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#babel.dates.parse_pattern" title="永久链接至目标">¶</a></dt>
<dd><p>Parse date, time, and datetime format patterns.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_pattern</span><span class="p">(</span><span class="s2">&quot;MMMMd&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span>
<span class="go">u&#39;%(MMMM)s%(d)s&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parse_pattern</span><span class="p">(</span><span class="s2">&quot;MMM d, yyyy&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span>
<span class="go">u&#39;%(MMM)s %(d)s, %(yyyy)s&#39;</span>
</pre></div>
</div>
<p>Pattern can contain literal strings in single quotes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_pattern</span><span class="p">(</span><span class="s2">&quot;H:mm&#39; Uhr &#39;z&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span>
<span class="go">u&#39;%(H)s:%(mm)s Uhr %(z)s&#39;</span>
</pre></div>
</div>
<p>An actual single quote can be used by using two adjacent single quote
characters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_pattern</span><span class="p">(</span><span class="s2">&quot;hh&#39; o&#39;&#39;clock&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">format</span>
<span class="go">u&quot;%(hh)s o&#39;clock&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>pattern</strong> – the formatting pattern to parse</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../index.html">
  <img class="logo" src="../_static/logo_small.png" alt="Logo"/>
</a></p>
  <h3><a href="../index.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Date and Time</a><ul>
<li><a class="reference internal" href="#date-and-time-formatting">Date and Time Formatting</a></li>
<li><a class="reference internal" href="#timezone-functionality">Timezone Functionality</a></li>
<li><a class="reference internal" href="#data-access">Data Access</a></li>
<li><a class="reference internal" href="#basic-parsing">Basic Parsing</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">API Reference</a><ul>
      <li>Previous: <a href="core.html" title="上一章">Core Functionality</a></li>
      <li>Next: <a href="languages.html" title="下一章">Languages</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <div class="footer">
    &copy; Copyright 2021, The Babel Team.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>
  
  </body>
</html>